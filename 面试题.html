<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /**
         * å®Œå–„ ä¸‹æ–¹ findAllParentDepts å‡½æ•° , è¿”å› æŸä¸ªid çš„æ‰€æœ‰çš„ä¸Šå±‚èŠ‚ç‚¹çš„idæ•°ç»„
         * å¦‚  'U2dPWLOxD-Gh7lqt4mw2Z'   =>   ['3E2X3qZA0db3lonc5h_Xs','WSOslzzUg-OfyPGGVidqi']
         * */
        let deptTree = [
            {
                id: "WSOslzzUg-OfyPGGVidqi",
                title: "æ“åˆ›ç§‘æŠ€",
                children: [
                    {
                        id: "3E2X3qZA0db3lonc5h_Xs",
                        title: "äº§å“ä¸€éƒ¨",
                        children: [
                            {
                                id: "U2dPWLOxD-Gh7lqt4mw2Z",
                                title: "ä¸€éƒ¨æµ‹è¯•ç»„",
                                children: [
                                    {
                                        id: "OcbCKlsNwa1yV4hV4kl2q",
                                        title: "æµ‹è¯•ä¸€ç»„",
                                        children: [
                                            {
                                                id: "QjNB3D_iZPA0UuPkeKKFx",
                                                title: "ç‹å‡¯",
                                            },
                                            {
                                                id: "eTcPMpVqHPqWeov1mOP5Q",
                                                title: "ç‹é¾™",
                                            },
                                        ],
                                    },
                                ],
                            },
                            {
                                id: "OU3V1152OtmgWf4_pO8dT",
                                title: "ä¸€éƒ¨è®¾è®¡éƒ¨",
                                children: [
                                    {
                                        id: "BGE-fSUdl7WxYLCV4PwoV",
                                        title: "å°æ",
                                    },
                                    {
                                        id: "wPd-EoVwD9y96IMXEazne",
                                        title: "å°å¼ ",
                                    },
                                    {
                                        id: "uimLbEVgrtHgq8B_UoLZj",
                                        title: "å°ç‹",
                                    },
                                ],
                            },
                        ],
                    },
                    {
                        id: "41ngVYWBCRpcrzPaaFyp3",
                        title: "äº§å“äºŒéƒ¨",
                    },
                ],
            },
        ];
        /**
         * @param {Array} data  éƒ¨é—¨æ ‘
         * @param {string} id   éƒ¨é—¨æ ‘ä¸­æŸä¸ªèŠ‚ç‚¹id
         * @returns {Array<string>}     æ‰€æœ‰çš„ä¸Šå±‚èŠ‚ç‚¹çš„idæ•°ç»„
         */
        function findAllParentDepts(data, id) {
            let result = []
            const recursion = function (obj, id) {
                if (obj.length) {
                    obj.forEach(item => {
                        if (item.children && item.children.length) {
                            if (item.children.some(cur => cur.id === id)) {  //è¿™é‡Œåˆ©ç”¨someç­›é€‰å­çº§æœ‰æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„ï¼Œæœ‰å°±é‡æ–°é€’å½’ï¼Œæ²¡æœ‰å°±ç»§ç»­é€’å½’
                                result.unshift(item.id)
                                //é‡æ–°é€’å½’
                                recursion(data, item.id)
                            } else {
                                //ç»§ç»­é€’å½’
                                recursion(item.children, id)
                            }
                        } else { return }
                    })
                }
            }
            recursion(data, id)
            return result
        }
        console.log(
            "ğŸš€  findAllParentDepts æµ‹è¯•ç»“æœ:",
            findAllParentDepts(deptTree, "OcbCKlsNwa1yV4hV4kl2q")
        );
    </script>
</body>

</html>